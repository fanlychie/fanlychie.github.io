<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="fanlychie,范忠云,範宗雲,java,技术,博客"><meta name="baidu-site-verification" content="bQjF64X3Ym"><meta name="keywords" content="fanlychie,范忠云,java,技术,博客,spring,mvc,cloud"><title>mybatis-template-generator 帮助文档 | 範宗雲</title><link rel="stylesheet" type="text/css" href="//fonts.css.network/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">mybatis-template-generator 帮助文档</h1><a id="logo" href="/.">範宗雲</a><p class="description">面朝大海，望眼欲穿</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="请输入搜索关键字 ..."></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">mybatis-template-generator 帮助文档</h1><div class="post-meta"><span class="date">2017-02-04</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i> Hits</i></i></span><a href="/post/mybatis-template-generator-document.html#comments" class="comment-count"><i id="changyan_parti_unit" data-xid="post/mybatis-template-generator-document.html"></i>留言</a></div><div class="post-content"><h1 id="获取依赖"><a href="#获取依赖" class="headerlink" title="获取依赖"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">获取依赖</span></h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 仓库地址 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>github-maven-repo<span class="tag">&lt;/<span class="name">id</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://raw.github.com/fanlychie/maven-repo/releases<span class="tag">&lt;/<span class="name">url</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 声明依赖，版本信息参考：https://github.com/fanlychie/mybatis-template-generator/releases --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.fanlychie<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-template-generator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 打包时可顺利排除此依赖 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></div></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="环境要求"><a href="#环境要求" class="headerlink" title="环境要求"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">环境要求</span></h1><p>JDK1.7 或以上版本</p>
<h1 id="项目地址"><a href="#项目地址" class="headerlink" title="项目地址"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">项目地址</span></h1><p><a href="https://github.com/fanlychie/mybatis-template-generator" target="_blank" rel="external">https://github.com/fanlychie/mybatis-template-generator</a></p>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">配置</span></h1><h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">配置文件</span></h2><p>在项目类路径下新建一个文件 <a href="/resources/mybatis-template-generator.xml">mybatis-template-generator.xml</a> (右键链接另存为下载), 内容如下:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 自定义属性, 通过 $&#123;&#125; 占位符来引用 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 引入属性配置文件 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">include</span> <span class="attr">location</span>=<span class="string">"jdbc.properties"</span>/&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 自定义属性键值对 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"basePackage"</span> <span class="attr">value</span>=<span class="string">"com.domain"</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 数据源配置 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">datasource</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 数据库连接地址 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.url&#125;"</span>/&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 数据库账户名称 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.username&#125;"</span>/&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 数据库账户密码 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.password&#125;"</span>/&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 数据库连接驱动 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.driver&#125;"</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">datasource</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 表配置 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 表名分隔符 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"separator"</span> <span class="attr">value</span>=<span class="string">"_"</span>/&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 忽略表, 匹配的表将被忽略不处理 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"ignores"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>temp*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 逃逸表, 匹配的表总是会输出文件 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"escapes"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>none<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 表前缀, 输出的类文件忽略此名称 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefixs"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>tb_<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 列配置 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">column</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 列名分隔符 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"separator"</span> <span class="attr">value</span>=<span class="string">"_"</span>/&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 忽略列, 匹配的列将被忽略不处理 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"ignores"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>temp*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 逃逸列, 匹配的列总是会输出属性 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"escapes"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>none<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 列前缀, 输出的属性忽略此前缀名 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefixs"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>none<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">column</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 输出配置 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">output</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 实体类 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"entity"</span> <span class="attr">folder</span>=<span class="string">"$&#123;basedir&#125;/src/main/java"</span> <span class="attr">package</span>=<span class="string">"$&#123;basePackage&#125;.entity"</span>/&gt;</span></div><div class="line">        <span class="comment">&lt;!-- Mybatis 实体类对应的 Xml 文件 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapperXml"</span> <span class="attr">folder</span>=<span class="string">"$&#123;basedir&#125;/src/main/resources"</span> <span class="attr">package</span>=<span class="string">"$&#123;basePackage&#125;.mapper"</span>/&gt;</span></div><div class="line">        <span class="comment">&lt;!-- Dao 接口 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dao"</span> <span class="attr">folder</span>=<span class="string">"$&#123;basedir&#125;/src/main/java"</span> <span class="attr">package</span>=<span class="string">"$&#123;basePackage&#125;.dao"</span>/&gt;</span></div><div class="line">        <span class="comment">&lt;!-- Dao 实现类 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"daoImpl"</span> <span class="attr">folder</span>=<span class="string">"$&#123;basedir&#125;/src/main/java"</span> <span class="attr">package</span>=<span class="string">"$&#123;basePackage&#125;.dao.impl"</span>/&gt;</span></div><div class="line">        <span class="comment">&lt;!-- Service 接口 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"service"</span> <span class="attr">folder</span>=<span class="string">"$&#123;basedir&#125;/src/main/java"</span> <span class="attr">package</span>=<span class="string">"$&#123;basePackage&#125;.service"</span>/&gt;</span></div><div class="line">        <span class="comment">&lt;!-- Service 实现类 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"serviceImpl"</span> <span class="attr">folder</span>=<span class="string">"$&#123;basedir&#125;/src/main/java"</span> <span class="attr">package</span>=<span class="string">"$&#123;basePackage&#125;.service.impl"</span>/&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 每次生成时总是覆盖输出 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"overwrite"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>none<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">output</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="properties"><a href="#properties" class="headerlink" title="properties"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">properties</span></h2><p>配置模板文件上下文参数键值对, 上下文环境可以通过 ${} 语法来引用自定义的键值对<span class="fuhao">。</span></p>
<p>通过类路径下的属性文件引入:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">include</span> <span class="attr">location</span>=<span class="string">"jdbc.properties"</span>/&gt;</span></div></pre></td></tr></table></figure>
<p>直接声明键值对:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"basePackage"</span> <span class="attr">value</span>=<span class="string">"com.domain"</span>/&gt;</span></div></pre></td></tr></table></figure>
<h2 id="datasource"><a href="#datasource" class="headerlink" title="datasource"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">datasource</span></h2><p>配置数据源信息:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 数据库连接地址 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.url&#125;"</span>/&gt;</span></div><div class="line"><span class="comment">&lt;!-- 数据库账户名称 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.username&#125;"</span>/&gt;</span></div><div class="line"><span class="comment">&lt;!-- 数据库账户密码 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.password&#125;"</span>/&gt;</span></div><div class="line"><span class="comment">&lt;!-- 数据库连接驱动 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc.driver&#125;"</span>/&gt;</span></div><div class="line"><span class="comment">&lt;!-- 元数据类, 默认配置 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"metadataClass"</span> <span class="attr">value</span>=<span class="string">"org.fanlychie.mybatis.template.db.MySQLMetadata"</span>/&gt;</span></div></pre></td></tr></table></figure>
<p>metadataClass 默认使用 MySQL 数据库实现<span class="fuhao">。</span></p>
<p>其它数据库生成模板代码需实现抽象类 org.fanlychie.mybatis.template.db.DatabaseMetadata<span class="fuhao">。</span></p>
<h2 id="table"><a href="#table" class="headerlink" title="table"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">table</span></h2><p>数据库表配置信息:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 表名分隔符 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"separator"</span> <span class="attr">value</span>=<span class="string">"_"</span>/&gt;</span></div><div class="line"><span class="comment">&lt;!-- 忽略表, 匹配的表将被忽略不处理 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"ignores"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>temp*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 逃逸表, 匹配的表总是会输出文件 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"escapes"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>none<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 表前缀, 输出的类文件忽略此名称 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefixs"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>tb_<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>separator</td>
<td>表名分隔符, 用于驼峰拼写, 例: user_info -&gt; UserInfo</td>
</tr>
<tr>
<td>ignores</td>
<td>忽略表, 匹配的表将被忽略不处理</td>
</tr>
<tr>
<td>escapes</td>
<td>逃逸表, 它无视 ignores 配置的规则, 匹配的表总是会输出文件</td>
</tr>
<tr>
<td>prefixs</td>
<td>表前缀, 输出的类文件忽略此名称, 例: tb_user_info -&gt; UserInfo</td>
</tr>
</tbody>
</table>
<h2 id="column"><a href="#column" class="headerlink" title="column"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">column</span></h2><p>数据库列配置信息:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 列名分隔符 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"separator"</span> <span class="attr">value</span>=<span class="string">"_"</span>/&gt;</span></div><div class="line"><span class="comment">&lt;!-- 忽略列, 匹配的列将被忽略不处理 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"ignores"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>temp*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 逃逸列, 匹配的列总是会输出属性 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"escapes"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>none<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 列前缀, 输出的属性忽略此前缀名 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefixs"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>none<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 数据库类型和 JAVA 数据类型的映射表 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"typeMapping"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">value</span> <span class="attr">jdbcType</span>=<span class="string">"varchar"</span> <span class="attr">javaType</span>=<span class="string">"String"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>separator</td>
<td>列名分隔符, 用于驼峰拼写, 例: user_id -&gt; userId</td>
</tr>
<tr>
<td>ignores</td>
<td>忽略列, 匹配的表将被忽略不处理</td>
</tr>
<tr>
<td>escapes</td>
<td>逃逸列, 它无视 ignores 配置的规则, 匹配的列总是输出到对象属性或文件</td>
</tr>
<tr>
<td>prefixs</td>
<td>列前缀, 输出的属性忽略此前缀名</td>
</tr>
<tr>
<td>typeMapping</td>
<td>数据库类型和 JAVA 数据类型的映射表</td>
</tr>
</tbody>
</table>
<h2 id="output"><a href="#output" class="headerlink" title="output"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">output</span></h2><p>模板文件输出配置信息:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 实体类 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"entity"</span> <span class="attr">folder</span>=<span class="string">"$&#123;basedir&#125;/src/main/java"</span> <span class="attr">package</span>=<span class="string">"$&#123;basePackage&#125;.entity"</span>/&gt;</span></div><div class="line"><span class="comment">&lt;!-- Mybatis 实体类对应的 Xml 文件 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapperXml"</span> <span class="attr">folder</span>=<span class="string">"$&#123;basedir&#125;/src/main/resources"</span> <span class="attr">package</span>=<span class="string">"$&#123;basePackage&#125;.mapper"</span>/&gt;</span></div><div class="line"><span class="comment">&lt;!-- Dao 接口 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dao"</span> <span class="attr">folder</span>=<span class="string">"$&#123;basedir&#125;/src/main/java"</span> <span class="attr">package</span>=<span class="string">"$&#123;basePackage&#125;.dao"</span>/&gt;</span></div><div class="line"><span class="comment">&lt;!-- Dao 实现类 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"daoImpl"</span> <span class="attr">folder</span>=<span class="string">"$&#123;basedir&#125;/src/main/java"</span> <span class="attr">package</span>=<span class="string">"$&#123;basePackage&#125;.dao.impl"</span>/&gt;</span></div><div class="line"><span class="comment">&lt;!-- Service 接口 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"service"</span> <span class="attr">folder</span>=<span class="string">"$&#123;basedir&#125;/src/main/java"</span> <span class="attr">package</span>=<span class="string">"$&#123;basePackage&#125;.service"</span>/&gt;</span></div><div class="line"><span class="comment">&lt;!-- Service 实现类 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"serviceImpl"</span> <span class="attr">folder</span>=<span class="string">"$&#123;basedir&#125;/src/main/java"</span> <span class="attr">package</span>=<span class="string">"$&#123;basePackage&#125;.service.impl"</span>/&gt;</span></div><div class="line"><span class="comment">&lt;!-- 每次生成时总是覆盖输出 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"overwrite"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>none<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div></pre></td></tr></table></figure>
<p>${basedir} 表示当前项目的路径<span class="fuhao">。</span></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>folder</td>
<td>模板文件输出到的目录路径</td>
</tr>
<tr>
<td>package</td>
<td>模板文件使用的包名</td>
</tr>
<tr>
<td>overwrite</td>
<td>可以指定哪些模板文件强制重新生成输出<span class="fuhao">。</span><br>例: 只重新生成 user_info 表相关的文件 UserInfo*<br>例: 只重新生成 user_info 表 XML 文件 UserInfo*.xml</td>
</tr>
</tbody>
</table>
<h1 id="生成模板文件"><a href="#生成模板文件" class="headerlink" title="生成模板文件"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">生成模板文件</span></h1><h2 id="maven-命令"><a href="#maven-命令" class="headerlink" title="maven 命令"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">maven 命令</span></h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mvn exec:java -Dexec.mainClass=MyBatisTemplateGenerator -Dexec.classpathScope=test</div></pre></td></tr></table></figure>
<h2 id="Java-方法调用"><a href="#Java-方法调用" class="headerlink" title="Java 方法调用"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">Java 方法调用</span></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">    org.fanlychie.mybatis.template.Generator.generate();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">使用</span></h1><p>引入测试依赖包:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>4.2.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div></pre></td></tr></table></figure>
<p>以 user 用户表为例:</p>
<p><img src="http://i.imgur.com/z3moM6A.jpg" alt="用户表"></p>
<h2 id="模板文件"><a href="#模板文件" class="headerlink" title="模板文件"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">模板文件</span></h2><p>除常规文件生成外代码生成器还会为每一个表生成对应的 Criteria 类<span class="fuhao">，</span>用于 SQL 条件操作<span class="fuhao">，</span>例: user 表 -&gt; UserCriteria<span class="fuhao">。</span></p>
<p>Criteria 类拥有和实体类一致的 set 方法<span class="fuhao">，</span>不同的是 Criteria 类的 set 方法的参数接收的是 Criterion 对象<span class="fuhao">，</span>Criterion 对象通过 Value 静态方法来构建<span class="fuhao">，</span>见下文<span class="fuhao">。</span></p>
<h2 id="日志"><a href="#日志" class="headerlink" title="日志"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">日志</span></h2><p>设置输出 SQL 语句 ( com.domain 替换成你自己的包名 ) :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">log4j.logger.com.domain.dao = DEBUG</div></pre></td></tr></table></figure>
<h2 id="保存数据"><a href="#保存数据" class="headerlink" title="保存数据"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">保存数据</span></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> com.domain.entity.User;</div><div class="line"><span class="keyword">import</span> com.domain.service.UserService;</div><div class="line"><span class="keyword">import</span> org.junit.Test;</div><div class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</div><div class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</div><div class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</div><div class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</div><div class="line"><span class="keyword">import</span> java.util.Date;</div><div class="line"></div><div class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class)</div><div class="line"><span class="meta">@ContextConfiguration</span>(<span class="string">"/spring-context.xml"</span>)</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserTest</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="meta">@Autowired</span></div><div class="line">    <span class="keyword">private</span> UserService userService;</div><div class="line"></div><div class="line">    <span class="meta">@Test</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSave</span><span class="params">()</span> </span>&#123;</div><div class="line">        User user = <span class="keyword">new</span> User();</div><div class="line">        user.setName(<span class="string">"张三"</span>);</div><div class="line">        user.setAge(<span class="number">23</span>);</div><div class="line">        user.setSalary(<span class="number">8600F</span>);</div><div class="line">        user.setProvince(<span class="string">"广东"</span>);</div><div class="line">        user.setCity(<span class="string">"广州"</span>);</div><div class="line">        user.setArea(<span class="string">"天河区"</span>);</div><div class="line">        user.setCreateTime(<span class="keyword">new</span> Date());</div><div class="line">        <span class="comment">// 保存数据</span></div><div class="line">        Integer id = userService.save(user);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>单元测试:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DEBUG [save:145] - ==&gt; Preparing: INSERT INTO USER ( ID, NAME, AGE, SALARY, PROVINCE, CITY, AREA, CREATE_TIME ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ? ) </div><div class="line">DEBUG [save:145] - ==&gt; Parameters: null, 张三(String), 23(Integer), 8600.0(Float), 广东(String), 广州(String), 天河区(String), 2017-02-04 17:33:09.373(Timestamp)</div><div class="line">DEBUG [save:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Updates:</span> <span class="attr">1</span></span></div></pre></td></tr></table></figure>
<h2 id="更新数据"><a href="#更新数据" class="headerlink" title="更新数据"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">更新数据</span></h2><h3 id="根据主键更新"><a href="#根据主键更新" class="headerlink" title="根据主键更新"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">根据主键更新</span></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testUpdate</span><span class="params">()</span> </span>&#123;</div><div class="line">    User user = <span class="keyword">new</span> User();</div><div class="line">    user.setId(<span class="number">21</span>);</div><div class="line">    user.setName(<span class="string">"张三丰"</span>);</div><div class="line">    <span class="comment">// 根据主键更新数据</span></div><div class="line">    <span class="keyword">boolean</span> result = userService.update(user);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>单元测试:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DEBUG [update:145] - ==&gt; Preparing: UPDATE USER SET NAME = ? WHERE id = ? </div><div class="line">DEBUG [update:145] - ==&gt; Parameters: 张三丰(String), 21(Integer)</div><div class="line">DEBUG [update:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Updates:</span> <span class="attr">1</span></span></div></pre></td></tr></table></figure>
<h3 id="根据条件更新"><a href="#根据条件更新" class="headerlink" title="根据条件更新"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">根据条件更新</span></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testUpdate</span><span class="params">()</span> </span>&#123;</div><div class="line">    User user = <span class="keyword">new</span> User();</div><div class="line">    <span class="comment">// 期望更新用户的薪资</span></div><div class="line">    user.setSalary(<span class="number">9000F</span>);</div><div class="line">    <span class="comment">// 条件对象</span></div><div class="line">    UserCriteria criteria = <span class="keyword">new</span> UserCriteria();</div><div class="line">    <span class="comment">// 姓名等于张三丰的用户</span></div><div class="line">    criteria.setName(Value.eq(<span class="string">"张三丰"</span>));</div><div class="line">    <span class="comment">// 根据条件更新数据</span></div><div class="line">    <span class="keyword">int</span> result = userService.update(user, criteria);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>单元测试:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DEBUG [update:145] - ==&gt; Preparing: UPDATE USER SET SALARY = ? WHERE name = ? </div><div class="line">DEBUG [update:145] - ==&gt; Parameters: 9000.0(Float), 张三丰(String)</div><div class="line">DEBUG [update:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Updates:</span> <span class="attr">1</span></span></div></pre></td></tr></table></figure>
<h2 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">删除数据</span></h2><h3 id="根据主键删除"><a href="#根据主键删除" class="headerlink" title="根据主键删除"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">根据主键删除</span></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDelete</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="comment">// 根据主键删除数据</span></div><div class="line">    <span class="keyword">boolean</span> result = userService.delete(<span class="number">21</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>单元测试:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DEBUG [delete:145] - ==&gt; Preparing: DELETE FROM USER WHERE id = ? </div><div class="line">DEBUG [delete:145] - ==&gt; Parameters: 21(Integer)</div><div class="line">DEBUG [delete:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Updates:</span> <span class="attr">1</span></span></div></pre></td></tr></table></figure>
<h3 id="根据条件删除"><a href="#根据条件删除" class="headerlink" title="根据条件删除"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">根据条件删除</span></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDelete</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="comment">// 条件对象</span></div><div class="line">    UserCriteria criteria = <span class="keyword">new</span> UserCriteria();</div><div class="line">    <span class="comment">// 年龄大于 30 的用户</span></div><div class="line">    criteria.setAge(Value.gt(<span class="number">30</span>));</div><div class="line">    <span class="comment">// 根据条件删除数据</span></div><div class="line">    <span class="keyword">int</span> result = userService.delete(criteria);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>单元测试:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DEBUG [delete:145] - ==&gt; Preparing: DELETE FROM USER WHERE age &gt; ? </div><div class="line">DEBUG [delete:145] - ==&gt; Parameters: 30(Integer)</div><div class="line">DEBUG [delete:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Updates:</span> <span class="attr">2</span></span></div></pre></td></tr></table></figure>
<h2 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">查询数据</span></h2><h3 id="查询全部"><a href="#查询全部" class="headerlink" title="查询全部"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">查询全部</span></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSelect</span><span class="params">()</span> </span>&#123;</div><div class="line">    List&lt;User&gt; user = userService.selectAll();</div><div class="line">    <span class="keyword">for</span> (User u : user) &#123;</div><div class="line">        System.out.println(u.getName());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>单元测试:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DEBUG [selectList:145] - ==&gt; Preparing: SELECT * FROM USER </div><div class="line">DEBUG [selectList:145] - ==&gt; Parameters: </div><div class="line">DEBUG [selectList:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Total:</span> <span class="attr">18</span></span></div></pre></td></tr></table></figure>
<h3 id="主键查询"><a href="#主键查询" class="headerlink" title="主键查询"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">主键查询</span></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSelect</span><span class="params">()</span> </span>&#123;</div><div class="line">    User user = userService.selectOne(<span class="number">8</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>单元测试:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DEBUG [selectList:145] - ==&gt; Preparing: SELECT * FROM USER WHERE id = ? </div><div class="line">DEBUG [selectList:145] - ==&gt; Parameters: 8(Integer)</div><div class="line">DEBUG [selectList:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Total:</span> <span class="attr">1</span></span></div></pre></td></tr></table></figure>
<h3 id="条件查询唯一记录"><a href="#条件查询唯一记录" class="headerlink" title="条件查询唯一记录"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">条件查询唯一记录</span></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSelect</span><span class="params">()</span> </span>&#123;</div><div class="line">    UserCriteria criteria = <span class="keyword">new</span> UserCriteria();</div><div class="line">    <span class="comment">// 年龄大于 20</span></div><div class="line">    criteria.setAge(Value.gt(<span class="number">20</span>));</div><div class="line">    <span class="comment">// 用户名为 "用户08"</span></div><div class="line">    criteria.setName(Value.eq(<span class="string">"用户08"</span>));</div><div class="line">    <span class="comment">// 条件查询, 需确保数据是唯一的</span></div><div class="line">    User user = userService.selectOne(criteria);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>单元测试:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DEBUG [selectList:145] - ==&gt; Preparing: SELECT * FROM USER WHERE age &gt; ? AND name = ? </div><div class="line">DEBUG [selectList:145] - ==&gt; Parameters: 20(Integer), 用户08(String)</div><div class="line">DEBUG [selectList:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Total:</span> <span class="attr">1</span></span></div></pre></td></tr></table></figure>
<h3 id="列表查询"><a href="#列表查询" class="headerlink" title="列表查询"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">列表查询</span></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSelect</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="comment">// 条件对象</span></div><div class="line">    UserCriteria criteria = <span class="keyword">new</span> UserCriteria();</div><div class="line">    <span class="comment">// 年龄小于 25</span></div><div class="line">    criteria.setAge(Value.lt(<span class="number">25</span>));</div><div class="line">    <span class="comment">// 查询列表</span></div><div class="line">    List&lt;User&gt; users = userService.selectList(criteria);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>单元测试:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DEBUG [selectList:145] - ==&gt; Preparing: SELECT * FROM USER WHERE age <span class="tag">&lt; ? </span></div><div class="line"><span class="attr">DEBUG</span> [<span class="attr">selectList:145</span>] <span class="attr">-</span> ==&gt; Parameters: 25(Integer)</div><div class="line">DEBUG [selectList:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Total:</span> <span class="attr">7</span></span></div></pre></td></tr></table></figure>
<h3 id="查询条数"><a href="#查询条数" class="headerlink" title="查询条数"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">查询条数</span></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSelect</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="comment">// 条件对象</span></div><div class="line">    UserCriteria criteria = <span class="keyword">new</span> UserCriteria();</div><div class="line">    <span class="comment">// 年龄小于 25</span></div><div class="line">    criteria.setAge(Value.lt(<span class="number">25</span>));</div><div class="line">    <span class="comment">// 查询总条数</span></div><div class="line">    <span class="keyword">long</span> counts = userService.selectCount(criteria);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>单元测试:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DEBUG [selectCount:145] - ==&gt; Preparing: SELECT COUNT(1) FROM USER WHERE age <span class="tag">&lt; ? </span></div><div class="line"><span class="attr">DEBUG</span> [<span class="attr">selectCount:145</span>] <span class="attr">-</span> ==&gt; Parameters: 25(Integer)</div><div class="line">DEBUG [selectCount:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Total:</span> <span class="attr">1</span></span></div></pre></td></tr></table></figure>
<h3 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">分页查询</span></h3><h4 id="bootstrap-插件分页"><a href="#bootstrap-插件分页" class="headerlink" title="bootstrap 插件分页"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">bootstrap 插件分页</span></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSelect</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="comment">// 分页对象</span></div><div class="line">    Pagination pagination = <span class="keyword">new</span> Pagination();</div><div class="line">    <span class="comment">// 条件对象, 根据情况设置 SQL 条件, 此处不设</span></div><div class="line">    UserCriteria criteria = <span class="keyword">new</span> UserCriteria();</div><div class="line">    <span class="comment">// 分页查询, 无需提供任何参数, 极简分页</span></div><div class="line">    pagination = userService.selectPage(criteria, pagination);</div><div class="line">    <span class="comment">// 查询结果总条数</span></div><div class="line">    System.out.println(pagination.getTotal());</div><div class="line">    <span class="comment">// 查询的结果集</span></div><div class="line">    <span class="keyword">for</span> (Object row : pagination.getRows()) &#123;</div><div class="line">        User user = (User) row;</div><div class="line">        System.out.println(user.getName() + <span class="string">" - ¥"</span> + user.getSalary());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>单元测试:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">DEBUG [selectCount:145] - ==&gt; Preparing: SELECT COUNT(1) FROM USER </div><div class="line">DEBUG [selectCount:145] - ==&gt; Parameters: </div><div class="line">DEBUG [selectCount:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Total:</span> <span class="attr">1</span></span></div><div class="line"></div><div class="line"><span class="attr">DEBUG</span> [<span class="attr">selectList:145</span>] <span class="attr">-</span> ==&gt; Preparing: SELECT * FROM USER LIMIT ?, ? </div><div class="line">DEBUG [selectList:145] - ==&gt; Parameters: 0(Integer), 10(Integer)</div><div class="line">DEBUG [selectList:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Total:</span> <span class="attr">10</span></span></div></pre></td></tr></table></figure>
<p>bootstrap 插件分页 Pagination 参数说明表:</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>rows</td>
<td>否</td>
<td>分页结果集合, 返回字段, 无需设值</td>
</tr>
<tr>
<td>total</td>
<td>否</td>
<td>查询结果总条数, 返回字段, 无需设值</td>
</tr>
<tr>
<td>limit</td>
<td>否</td>
<td>每页显示的条数, 默认 10</td>
</tr>
<tr>
<td>offset</td>
<td>否</td>
<td>查询的起始索引值, 默认 0</td>
</tr>
<tr>
<td>sort</td>
<td>否</td>
<td>排序字段的名称</td>
</tr>
<tr>
<td>order</td>
<td>否</td>
<td>排序的关键字</td>
</tr>
<tr>
<td>search</td>
<td>否</td>
<td>搜索的关键字</td>
</tr>
<tr>
<td>field</td>
<td>否</td>
<td>搜索字段名称, bootstrap 分页插件不发送此参数, 如果有需要, 需手工设置, 建议不使用此参数</td>
</tr>
</tbody>
</table>
<h4 id="普通分页"><a href="#普通分页" class="headerlink" title="普通分页"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">普通分页</span></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSelect</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="comment">// 分页对象</span></div><div class="line">    Pagination pagination = <span class="keyword">new</span> Pagination();</div><div class="line">    <span class="comment">// 设置第一页, 普通分页必设</span></div><div class="line">    pagination.setPage(<span class="number">1</span>);</div><div class="line">    <span class="comment">// 条件对象</span></div><div class="line">    UserCriteria criteria = <span class="keyword">new</span> UserCriteria();</div><div class="line">    <span class="comment">// 薪资升序排序</span></div><div class="line">    criteria.setSalary(Value.orderBy(OrderBy.ASC));</div><div class="line">    <span class="comment">// 薪资相同则按年龄升序排序</span></div><div class="line">    criteria.setAge(Value.orderBy(OrderBy.ASC));</div><div class="line">    <span class="comment">// 分页查询, 无需提供任何参数, 极简分页</span></div><div class="line">    pagination = userService.selectPage(criteria, pagination);</div><div class="line">    <span class="comment">// 查询结果总条数</span></div><div class="line">    System.out.println(<span class="string">"查询结果总条数: "</span> + pagination.getTotal());</div><div class="line">    <span class="comment">// 查询结果总页数</span></div><div class="line">    System.out.println(<span class="string">"查询结果总页数: "</span> + pagination.getPages());</div><div class="line">    <span class="comment">// 上一页的页码</span></div><div class="line">    System.out.println(<span class="string">"上一页的页码: "</span> + pagination.getPrev());</div><div class="line">    <span class="comment">// 下一页的页码</span></div><div class="line">    System.out.println(<span class="string">"下一页的页码: "</span> + pagination.getNext());</div><div class="line">    <span class="comment">// 查询的结果集</span></div><div class="line">    <span class="keyword">for</span> (Object row : pagination.getRows()) &#123;</div><div class="line">        User user = (User) row;</div><div class="line">        System.out.println(user.getName() + <span class="string">" "</span> + user.getAge() + <span class="string">" - ¥"</span> + user.getSalary());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>单元测试:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">DEBUG [selectCount:145] - ==&gt; Preparing: SELECT COUNT(1) FROM USER </div><div class="line">DEBUG [selectCount:145] - ==&gt; Parameters: </div><div class="line">DEBUG [selectCount:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Total:</span> <span class="attr">1</span></span></div><div class="line"></div><div class="line"><span class="attr">DEBUG</span> [<span class="attr">selectList:145</span>] <span class="attr">-</span> ==&gt; Preparing: SELECT * FROM USER ORDER BY salary ASC , age ASC LIMIT ?, ? </div><div class="line">DEBUG [selectList:145] - ==&gt; Parameters: 0(Integer), 10(Integer)</div><div class="line">DEBUG [selectList:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Total:</span> <span class="attr">10</span></span></div></pre></td></tr></table></figure>
<p>bootstrap 插件分页 Pagination 参数说明表:</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>rows</td>
<td>否</td>
<td>分页结果集合, 返回字段, 无需设值</td>
</tr>
<tr>
<td>total</td>
<td>否</td>
<td>查询结果总条数, 返回字段, 无需设值</td>
</tr>
<tr>
<td>limit</td>
<td>否</td>
<td>每页显示的条数, 默认 10</td>
</tr>
<tr>
<td>offset</td>
<td>否</td>
<td>查询的起始索引值, 默认 0</td>
</tr>
<tr>
<td>sort</td>
<td>否</td>
<td>排序字段的名称</td>
</tr>
<tr>
<td>order</td>
<td>否</td>
<td>排序的关键字</td>
</tr>
<tr>
<td>search</td>
<td>否</td>
<td>搜索的关键字</td>
</tr>
<tr>
<td>field</td>
<td>否</td>
<td>搜索字段名称</td>
</tr>
<tr>
<td>page</td>
<td>是</td>
<td>当前请求的页码, 页码从 1 开始</td>
</tr>
<tr>
<td>prev</td>
<td>否</td>
<td>上一页的页码, 返回字段, 无需设值</td>
</tr>
<tr>
<td>next</td>
<td>否</td>
<td>下一页的页码, 返回字段, 无需设值</td>
</tr>
<tr>
<td>pages</td>
<td>否</td>
<td>查询结果总页数, 返回字段, 无需设值</td>
</tr>
</tbody>
</table>
<h2 id="逻辑操作"><a href="#逻辑操作" class="headerlink" title="逻辑操作"></a><span style="color:#555;font-weight:bold;text-shadow:2px 2px 3px rgba(50,50,50,0.3);font-family:'Monda','PingFang SC','Microsoft YaHei',sans-serif;font-size:20px;letter-spacing:0.5px;">逻辑操作</span></h2><p>多个 Criterion 条件默认是 AND 逻辑:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSelect</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="comment">// 条件对象</span></div><div class="line">    UserCriteria criteria = <span class="keyword">new</span> UserCriteria();</div><div class="line">    <span class="comment">// 年龄小于 28</span></div><div class="line">    criteria.setAge(Value.lt(<span class="number">28</span>));</div><div class="line">    <span class="comment">// 薪资高于 8000</span></div><div class="line">    criteria.setSalary(Value.gt(<span class="number">8000</span>));</div><div class="line">    <span class="comment">// 查询结果</span></div><div class="line">    List&lt;User&gt; users = userService.selectList(criteria);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>单元测试:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DEBUG [selectList:145] - ==&gt; Preparing: SELECT * FROM USER WHERE age <span class="tag">&lt; ? <span class="attr">AND</span> <span class="attr">salary</span> &gt;</span> ? </div><div class="line">DEBUG [selectList:145] - ==&gt; Parameters: 28(Integer), 8000(Integer)</div><div class="line">DEBUG [selectList:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Total:</span> <span class="attr">4</span></span></div></pre></td></tr></table></figure>
<p>支持简单的 OR 逻辑:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSelect</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="comment">// 条件对象</span></div><div class="line">    UserCriteria criteria = <span class="keyword">new</span> UserCriteria();</div><div class="line">    <span class="comment">// 年龄小于 28 或 薪资高于 12000</span></div><div class="line">    criteria.setAge(Value.lt(<span class="number">28</span>)).or(criteria.setSalary(Value.gt(<span class="number">12000</span>)));</div><div class="line">    <span class="comment">// 查询结果</span></div><div class="line">    List&lt;User&gt; users = userService.selectList(criteria);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>单元测试:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DEBUG [selectList:145] - ==&gt; Preparing: SELECT * FROM USER WHERE age <span class="tag">&lt; ? <span class="attr">OR</span> <span class="attr">salary</span> &gt;</span> ? </div><div class="line">DEBUG [selectList:145] - ==&gt; Parameters: 28(Integer), 12000(Integer)</div><div class="line">DEBUG [selectList:145] - <span class="tag">&lt;<span class="name">==</span> <span class="attr">Total:</span> <span class="attr">15</span></span></div></pre></td></tr></table></figure></div><div class="tags"><a href="/tags/开发工具包/">开发工具包</a></div><div class="post-share"></div><div class="post-nav"><a href="/post/jpa-entity-annotation.html" class="pre">JPA @Entity 注解</a><a href="/post/commons-httpclient-document.html" class="next">commons-httpclient 帮助文档</a></div><div id="comments"><div id="SOHUCS" sid="post/mybatis-template-generator-document.html"></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#获取依赖"><span class="toc-text">获取依赖</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#环境要求"><span class="toc-text">环境要求</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#项目地址"><span class="toc-text">项目地址</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#配置"><span class="toc-text">配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#配置文件"><span class="toc-text">配置文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#properties"><span class="toc-text">properties</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#datasource"><span class="toc-text">datasource</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#table"><span class="toc-text">table</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#column"><span class="toc-text">column</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#output"><span class="toc-text">output</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#生成模板文件"><span class="toc-text">生成模板文件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#maven-命令"><span class="toc-text">maven 命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Java-方法调用"><span class="toc-text">Java 方法调用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#使用"><span class="toc-text">使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#模板文件"><span class="toc-text">模板文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#日志"><span class="toc-text">日志</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#保存数据"><span class="toc-text">保存数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#更新数据"><span class="toc-text">更新数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#根据主键更新"><span class="toc-text">根据主键更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#根据条件更新"><span class="toc-text">根据条件更新</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#删除数据"><span class="toc-text">删除数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#根据主键删除"><span class="toc-text">根据主键删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#根据条件删除"><span class="toc-text">根据条件删除</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查询数据"><span class="toc-text">查询数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#查询全部"><span class="toc-text">查询全部</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#主键查询"><span class="toc-text">主键查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#条件查询唯一记录"><span class="toc-text">条件查询唯一记录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#列表查询"><span class="toc-text">列表查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查询条数"><span class="toc-text">查询条数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分页查询"><span class="toc-text">分页查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#bootstrap-插件分页"><span class="toc-text">bootstrap 插件分页</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#普通分页"><span class="toc-text">普通分页</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#逻辑操作"><span class="toc-text">逻辑操作</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/post/dubbo-quickstart.html">dubbo 快速入门</a></li><li class="post-list-item"><a class="post-list-link" href="/post/dubbo-admin-setup.html">dubbo-admin 管理控制台应用安装</a></li><li class="post-list-item"><a class="post-list-link" href="/post/zookeeper-setup.html">Zookeeper 安装和配置</a></li><li class="post-list-item"><a class="post-list-link" href="/post/spring-cloud-netflix-ribbon.html">Spring Cloud Ribbon — 客户端负载均衡器</a></li><li class="post-list-item"><a class="post-list-link" href="/post/spring-cloud-netflix-eureka.html">Spring Cloud Eureka — 服务发现</a></li><li class="post-list-item"><a class="post-list-link" href="/post/spring-boot-testing.html">Spring Boot Test</a></li><li class="post-list-item"><a class="post-list-link" href="/post/spring-boot-servlet-filter-listener-usage.html">Spring Boot 使用 Servlet、Filter、Listener</a></li><li class="post-list-item"><a class="post-list-link" href="/post/spring-boot-exception-handler.html">Spring Boot 异常处理</a></li><li class="post-list-item"><a class="post-list-link" href="/post/spring-boot-error-page.html">Spring Boot 错误页面</a></li><li class="post-list-item"><a class="post-list-link" href="/post/spring-boot-tomcat-context-path.html">Spring Boot Tomcat 上下文路径</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/Jenkins/" style="font-size: 15px;">Jenkins</a> <a href="/tags/MQ/" style="font-size: 15px;">MQ</a> <a href="/tags/开发工具包/" style="font-size: 15px;">开发工具包</a> <a href="/tags/Dubbo/" style="font-size: 15px;">Dubbo</a> <a href="/tags/Eclipse/" style="font-size: 15px;">Eclipse</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Java8/" style="font-size: 15px;">Java8</a> <a href="/tags/工具类/" style="font-size: 15px;">工具类</a> <a href="/tags/CAS/" style="font-size: 15px;">CAS</a> <a href="/tags/Tomcat/" style="font-size: 15px;">Tomcat</a> <a href="/tags/JPA/" style="font-size: 15px;">JPA</a> <a href="/tags/ActiveMQ/" style="font-size: 15px;">ActiveMQ</a> <a href="/tags/缓存/" style="font-size: 15px;">缓存</a> <a href="/tags/Memcached/" style="font-size: 15px;">Memcached</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/网络爬虫/" style="font-size: 15px;">网络爬虫</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/Spring-Boot/" style="font-size: 15px;">Spring Boot</a> <a href="/tags/Solr/" style="font-size: 15px;">Solr</a> <a href="/tags/Spring-Cloud/" style="font-size: 15px;">Spring Cloud</a> <a href="/tags/MyBatis/" style="font-size: 15px;">MyBatis</a> <a href="/tags/Spring/" style="font-size: 15px;">Spring</a> <a href="/tags/Thymeleaf/" style="font-size: 15px;">Thymeleaf</a> <a href="/tags/Zookeeper/" style="font-size: 15px;">Zookeeper</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">07月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">06月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">05月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">04月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">02月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">01月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">10月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">09月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">01月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">12月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">11月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">10月 2015</a></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> | <a href="/atom.xml">订阅</a> |<span>主题<a rel="nofollow" target="_blank" href="https://hexo.io/zh-cn/"> Hexo</a><a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake</a> |</span><span>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?4e375539c063ce29112e53dea9f27aae";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._config = { showScore: true };
(function(){ 
  var appid = 'cyt5nPNL8'; 
  var conf = '5fe2e421f26b9cd1b7c459f7417c85b6'; 
  var width = window.innerWidth || document.documentElement.clientWidth; 
  var nodes =document.getElementsByTagName("head")[0]||document.head||document.documentElement;
  if (width < 960) { 
    window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } 
  else { 
    var loadJs=function(d,a){
      var b=document.createElement("script");b.setAttribute("type","text/javascript");
      b.setAttribute("charset","UTF-8");
      b.setAttribute("src",d);
      if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}
      nodes.appendChild(b)
    };
    loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); 
  } 
  var loadCss = function(cssString){  
    var style=document.createElement("style");  
    style.setAttribute("type", "text/css");  
    if(style.styleSheet){// IE  
        style.styleSheet.cssText = cssString;  
    } else {// w3c  
        var cssText = document.createTextNode(cssString);  
        style.appendChild(cssText);  
    }
    nodes.appendChild(style);
  }
  window.onload=function(){loadCss('.module-hot-topic, .module-cmt-float-bar { display: none !important; } #SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w .wrap-action-w .cbox-prompt-w span.prompt-empty-w, #SOHUCS #SOHU_MAIN .module-cmt-float-bar .wrap-cont-w .cont-form-w .form-text-w span.text-null, #SOHUCS #SOHU_MAIN .module-cmt-float-bar .wrap-cont-w .cont-minwidth-w div.cont-comment-w a.comment-link-w, #SOHUCS #SOHU_MAIN .module-cmt-float-bar .wrap-cont-w .cont-minwidth-w div.cont-comment-w span.comment-text-w, #SOHUCS #SOHU_MAIN .module-cmt-footer .section-service-w div.service-wrap-w a:hover, #SOHUCS #SOHU_MAIN .module-cmt-header .section-cbox-w .block-head-w div.header-login, #SOHUCS #SOHU_MAIN .module-cmt-header .section-title-w .title-user-w .user-wrap-w span.wrap-name-w, #SOHUCS #SOHU_MAIN .module-cmt-list .action-click-gw span.click-disable-eg a em.icon-name-bg, #SOHUCS #SOHU_MAIN .module-cmt-list .block-title-gw ul li div.title-name-gw, #SOHUCS #SOHU_MAIN .module-cmt-list .cmt-list-type .cmt-list-number .comment-number span.cy-number, #SOHUCS #SOHU_MAIN .module-cmt-list .cmt-list-type .cmt-list-number span.comment-number, #SOHUCS #SOHU_MAIN .module-cmt-list .cmt-list-type .type-lists li.active, #SOHUCS #SOHU_MAIN .module-cmt-list .msg-wrap-gw .wrap-action-gw .action-click-gw span a:hover, #SOHUCS #SOHU_MAIN .module-cmt-list .picture-box-gw div.box-action-gw a:hover, #SOHUCS #SOHU_MAIN .module-cmt-list .wrap-action-gw .action-click-gw span a:hover em.icon-name-bg, #SOHUCS #SOHU_MAIN .module-cmt-list .wrap-user-gw span.user-name-gw a { color: #40759b !important; } #SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w .post-wrap-border-t div.post-wrap-border-t-r, #SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w div.post-wrap-border-l, #SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w div.post-wrap-border-r { display: none !important; } #SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w .post-wrap-border-t div.post-wrap-border-t-l { background: #FFF !important; top: -2px !important; } #SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w .wrap-action-w .action-function-w .uploading-wrapper-dw div.wrapper-image-dw, #SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w div.post-wrap-main, #SOHUCS #SOHU_MAIN .module-cmt-float-bar .wrap-cont-w .cont-form-w div.form-text-w, #SOHUCS #SOHU_MAIN .module-cmt-header .section-cbox-w .block-head-w div.header-login, #SOHUCS #SOHU_MAIN .module-cmt-list .module-cmt-box .post-wrap-w div.post-wrap-main { border: 1px solid #e6e6e6 !important; border-radius: 20px 20px 20px 20px; margin: 0 !important; } #SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w .wrap-action-w .action-issue-w .issue-btn-w a .btn-fw { width: 130px !important; height: 34px !important; line-height: 33px !important; font-size: 17px !important; background: transparent !important; } #SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w .wrap-action-w .action-issue-w .issue-btn-w a .btn-fw:before { content: "发表评论"; display: block; border-radius: 20px; width: 100%; height: 100%; color: #FFF; background: #5483b1; -webkit-box-shadow: 0 -1px 4px #5483b1 inset; box-shadow: 0 -1px 10px #5483b1 inset; } #SOHUCS #SOHU_MAIN .module-cmt-box .post-wrap-w .wrap-action-w .action-issue-w .issue-btn-w a:hover .btn-fw:before { color: #40759b; background: #FFF; } #SOHUCS #SOHU_MAIN .module-cmt-list .cmt-list-type .type-lists li{ background: none !important; border-bottom: 1px solid #e6e6e6; } #SOHUCS #SOHU_MAIN .module-cmt-list .cmt-list-type .type-lists li.active { border: 1px solid #e6e6e6; border-radius: 10px 10px 0 0; border-bottom: none; } #SOHUCS #SOHU_MAIN .module-cmt-list .block-title-gw ul li .title-name-gw div.title-name-gw-tag { background: #5483b1 !important; border-radius: 3px; } #SOHUCS #SOHU_MAIN .module-cmt-list .cmt-list-type div.cmt-list-border { background-color: #e6e6e6 !important; } #SOHUCS #SOHU_MAIN .module-cmt-notice ul.nt-list li.nt-item{ border: 1px solid #e6e6e6 !important; } #SOHUCS #SOHU_MAIN .module-cmt-notice ul.nt-list li.nt-item .nt-logo { text-align: center; line-height: 40px; border-radius: 50% !important; background: #e6e6e6 !important; } #SOHUCS #SOHU_MAIN .module-cmt-notice ul.nt-list li.nt-item .nt-logo:before { content: "畅"; font-size: 22px; color: #FFF; } #SOHUCS #SOHU_MAIN .module-cmt-notice ul.nt-list li.nt-item a.nt-text, #SOHUCS #SOHU_MAIN .module-cmt-notice ul.nt-list li.nt-item a.nt-text i { color: #5483b1 !important; }#SOHUCS #SOHU_MAIN .module-cmt-header .section-title-w .title-user-w .user-wrap-w{background:#FFF !important;}');};
})();</script><script src="https://assets.changyan.sohu.com/upload/plugins/plugins.count.js"></script></body></html>